<!--
 Copyright (c) 2014, 2016, Oracle and/or its affiliates.
 The Universal Permissive License (UPL), Version 1.0
-->
<div class="oj-panel oj-margin">
    <h3 class="oj-header-border">Evaluación del alumno</h3>
    <div class="oj-form-layout">
        <div class="oj-form">
            <div class="oj-flex oj-sm-justify-content-space-between" style="width: 100%">
                <oj-flex-item style="width: 50%">
                    <oj-label-inline for="idAlumno" >N&uacute;mero de alumno</oj-label-inline>
                    <oj-input-text id="idAlumno" required></oj-input-text>
                    <oj-button id="buscarAlumnoxNombre" on-oj-action="[[buscarAlumno]]">Avanzado</oj-button>
                    <oj-button id="buscarAlumno" on-oj-action="[[obtenerInfo]]">Buscar</oj-button>
                </oj-flex-item>
                <oj-flex-item>
                    <oj-button id="guardarCambios">Guardar cambios</oj-button>
                    <oj-button id="agregarMedicion" on-oj-action="[[agregarMedicion]]">Agregar Medici&oacute;n</oj-button>
                    <oj-button id="agregarAlumno" on-oj-action="[[agregarAlumno]]">Agregar alumno</oj-button>
                    <oj-button id="descargarInfo" on-oj-action="[[descargarInfo]]">
                        <span slot='startIcon' class="demo-download-icon-24"></span>
                    </oj-button>
                </oj-flex-item>
            </div>
        </div>
        <oj-table id='tablaDatosAlumnos'
                  aria-label='Datos del Alumno'
                  data='[[origenDatosAlumnos]]'
                  columns='{{nombresColumnas}}'
                  style='width: 100%;'
                  dnd.reorder.columns='enabled'>
        </oj-table>
        <oj-collapsible>
            <h3 slot="header">Hist&oacute;rico mediciones</h3>
            <oj-table id='tablaDatosMediciones'
                      aria-label='Histórico de mediciones'
                      data='[[origenDatosMediciones]]'
                      columns='{{columnasMediciones}}'
                      style='width: 100%;'
                      dnd.reorder.columns='enabled'>
            </oj-table>
        </oj-collapsible>
        <oj-collapsible>
            <h3 slot="header">Gr&aacute;ficos de desarrollo</h3>    
            <div class="oj-flex" style="width: 100%;">
                <oj-flex-item style="width: 50%;text-align: center;">
                    <oj-chart id="lineChart" 
                              type="line" 
                              data="[[dataProvider]]" 
                              animation-on-display="auto"
                              animation-on-data-change="auto" 
                              orientation="[[orientationValue]]"
                              hover-behavior="dim"
                              style="max-width:500px;width:100%;height:350px;display: inline-block;">
                        <template slot="itemTemplate" data-oj-as="item">
                            <oj-chart-item value="[[item.data.valor]]" group-id="[[ [item.data.fecha] ]]" series-id="[[item.data.serie]]">
                            </oj-chart-item>
                        </template>
                    </oj-chart>
                    <!-- vertical/horizontal toggle button -->
                    <demo-chart-orientation-control id="orientationControl" type="line" orientation="{{orientationValue}}" aria-controls="lineChart">
                    </demo-chart-orientation-control>
                </oj-flex-item>
                <oj-flex-item style="width: 50%;text-align: center;">
                    <oj-chart id="lineChart" 
                              type="line" 
                              data="[[datosEstatura]]" 
                              animation-on-display="auto"
                              animation-on-data-change="auto" 
                              orientation="[[orientationValue]]"
                              hover-behavior="dim"
                              style="max-width:500px;width:100%;height:350px;display: inline-block;">
                        <template slot="itemTemplate" data-oj-as="item">
                            <oj-chart-item value="[[item.data.valor]]" group-id="[[ [item.data.fecha] ]]" series-id="[[item.data.serie]]">
                            </oj-chart-item>
                        </template>
                    </oj-chart>
                    <!-- vertical/horizontal toggle button -->
                    <demo-chart-orientation-control id="orientationControl" type="line" orientation="{{orientationValue}}" aria-controls="lineChart">
                    </demo-chart-orientation-control>
                </oj-flex-item>
            </div>
        </oj-collapsible>
    </div>
</div>
<oj-dialog style="display:none" id="dialogoCargando" cancel-behavior="none" dialog-title="Agregando datos...">
    <div slot="body">
        <p>Cargando la informaci&oacute;n espere...</p>
        <oj-progress class="oj-progress-bar-embedded" id="progressbar" value="-1"/>
        <p/>
    </div>
</oj-dialog>
<oj-dialog style="display:none" id="dialogoNuevoAlumno" dialog-title="Agregar nuevo alumno">
    <div id="cuperpoDialogoAlumno" slot="body">
        <div class="oj-form-layout">
            <div class="oj-form">
                <div class="oj-flex">
                    <oj-flex-item>
                        <oj-label-inline for="nuevoIdAlumno" >N&uacute;mero:</oj-label-inline>
                        <oj-input-text id="nuevoIdAlumno" required></oj-input-text>
                        <oj-label-inline for="nuevoNombreAlumno" >Nombre(s):</oj-label-inline>
                        <oj-input-text id="nuevoNombreAlumno" required></oj-input-text>
                        <oj-label-inline for="nuevoApellidoPAlumno" >Apellido Paterno:</oj-label-inline>
                        <oj-input-text id="nuevoApellidoPAlumno" required></oj-input-text>
                        <oj-label-inline for="nuevoApellidoMAlumno" >Apellido Materno:</oj-label-inline>
                        <oj-input-text id="nuevoApellidoMAlumno" required></oj-input-text>
                        <oj-label-inline for="nuevoSexoAlumno" >Sexo:</oj-label-inline>
                        <oj-select-one id="nuevoSexoAlumno" value="{{nuevoSexoAlumno}}" required>
                            <oj-option value="Femenino">Femenino</oj-option>
                            <oj-option value="Masculino">Masculino</oj-option>
                        </oj-select-one>
                        <oj-label-inline for="nuevoFNacimientoAlumno" >Fecha nacimiento:</oj-label-inline>
                        <oj-input-date id="nuevoFNacimientoAlumno"/>
                        <oj-label-inline for="nuevoEscuelaAlumno" >Escuela:</oj-label-inline>
                        <oj-select-one id="nuevoEscuelaAlumno" options="[[origenDatosEscuelas]]" value="{{nuevoEscuelaAlumno}}" required>
                        </oj-select-one>
                        <oj-label-inline for="nuevoGradoAlumno" >Grado:</oj-label-inline>
                        <oj-select-one id="nuevoGradoAlumno" value="{{nuevoGradoAlumno}}" required>
                            <oj-option value="1">1er Grado</oj-option>
                            <oj-option value="2">2do Grado</oj-option>
                            <oj-option value="3">3er Grado</oj-option>
                            <oj-option value="4">4to Grado</oj-option>
                            <oj-option value="5">5to Grado</oj-option>
                            <oj-option value="6">6to Grado</oj-option>
                        </oj-select-one>
                        <oj-label-inline for="nuevoGrupoAlumno" >Grupo:</oj-label-inline>
                        <oj-select-one id="nuevoGrupoAlumno" value="{{nuevoGrupoAlumno}}" required>
                            <oj-option value="1">Grupo A</oj-option>
                            <oj-option value="2">Grupo B</oj-option>
                            <oj-option value="3">Grupo C</oj-option>
                        </oj-select-one>
                    </oj-flex-item>
                </div>
            </div>
        </div>
    </div>
    <div slot="footer">
        <oj-button id="botonAgregarAlumno" on-oj-action="[[crearNuevoAlumno]]">Agregar</oj-button>
    </div>
</oj-dialog>
<oj-dialog style="display:none" id="dialogoNuevaMedicion" dialog-title="Agregar nueva medición">
    <div slot="body">
        <div class="oj-form-layout">
            <div class="oj-form">
                <div class="oj-flex">
                    <oj-flex-item>
                        <oj-label-inline for="nuevaFMedicion" >Fecha medicion:</oj-label-inline>
                        <oj-input-date required="true" id="nuevaFMedicion"/>
                        <oj-label-inline for="nuevaMasaMedicion" >Masa:</oj-label-inline>
                        <oj-input-text required="true" id="nuevaMasaMedicion" required></oj-input-text>
                        <oj-label-inline for="nuevaEstaturaMedicion" >Estatura:</oj-label-inline>
                        <oj-input-text required="true" id="nuevaEstaturaMedicion" required></oj-input-text>
                        <oj-label-inline for="nuevaPerimetroCuelloMedicion" >Perimetro del Cuello:</oj-label-inline>
                        <oj-input-text id="nuevaPerimetroCuelloMedicion" required></oj-input-text>
                        <oj-label-inline for="nuevaCinturaMedicion" >Cintura:</oj-label-inline>
                        <oj-input-text id="nuevaCinturaMedicion" required></oj-input-text>
                        <oj-label-inline for="nuevaTricepsMedicion" >Triceps:</oj-label-inline>
                        <oj-input-text id="nuevaTricepsMedicion" required></oj-input-text>
                        <oj-label-inline for="nuevaSubescapulaMedicion" >Subescapula:</oj-label-inline>
                        <oj-input-text id="nuevaSubescapulaMedicion" required></oj-input-text>
                        <oj-label-inline for="nuevaPliegueCuelloMedicion" >Pliegue del cuello:</oj-label-inline>
                        <oj-input-text id="nuevaPliegueCuelloMedicion" required></oj-input-text>
                    </oj-flex-item>
                </div>
            </div>
        </div>
    </div>
    <div slot="footer">
        <oj-button id="botonAgregarMedicion" on-oj-action="[[crearNuevaMedicion]]">Agregar</oj-button>
    </div>
</oj-dialog>
<oj-dialog style="display:none;width: 700px;" id="dialogoBuscarAlumno" dialog-title="Encontrar alumno por nombre:">
    <div slot="body">
        <div class="oj-form-layout">
            <oj-input-text style="width: 245px;" id="nombreABuscar" required></oj-input-text>
            <oj-button id="buscarXNombre" on-oj-action="[[encontrarAlumno]]">Buscar</oj-button>
            <oj-table id="tablaNombres"
                      columns='[{"headerText": "Numero de alumno", "field": "id_alumno", "style":"display:none;", "headerStyle":"display:none;"},
                                {"headerText": "Nombre Completo", "field": "nombre_completo"}, 
                                {"headerText": "Escuela de origen", "field": "nombre_escuela"}]'
                      data='[[origenDatosNombres]]'
                      selection-mode='{"row":"single"}'
                      style="display:block;">
            </oj-table>
        </div>
    </div>
    <div slot="footer">
        <oj-button id="botonAgregarMedicion" on-oj-action="[[seleccionarAlumno]]">Seleccionar</oj-button>
    </div>
</oj-dialog>
